<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <div class="game">
    <div class="aquarium">
        <div class="controls">
            <button class=fishButton>Fish!</button>
        </div>
    </div>
</div>
</body>
</html>

<script>
    let globalFishTotal=0,
    screenWidth=600;


function Fish (id, x, y ){
    this.x=Math.floor(Math.random()*600)
    this.y=Math.floor(Math.random()*350);
    this.class='guppy';
    this.id=globalFishTotal;
    this.xSpeed=1;
    this.ySpeed=0;
    this.fishMove=()=>{
 
    }
    console.log(this)

}

function drawScreen(){
    fishArray.forEach((fish)=>{
console.log(fish);
    })
}

let newFishButton = document.querySelector('.fishButton');
let fishArray = [];

newFishButton.addEventListener('click', ()=>{
    console.log('new fish!')
    let newFish = new Fish (globalFishTotal)
    fishArray.push(newFish);
    console.log(fishArray);
    console.log(globalFishTotal);
    console.log(fishArray[globalFishTotal]);
    $('.aquarium').append(`<div class='guppy' id='fish${newFish.id}''><div>`);
        $()
        // setTimeout(()=>{
        //     // $(`#fish${newFish.id}.guppy`).css('left')=fishArray[globalFishTotal].x;
        //     document.querySelector(`#fish${newFish.id}.guppy`).style.left=newFish.x;
        //     document.querySelector(`#fish${newFish.id}.guppy`).style.left=newFish.y;
        // }, 100)
        
    globalFishTotal++;

})

let mainTimer=setInterval(()=>{
    console.log(`timer`);
    console.log(fishArray)
    fishArray.forEach((fish, i)=>{
        console.log(fish);
        fish.x+=fish.xSpeed;
        fish.y+=fish.ySpeed;
        document.querySelector(`#fish${i}.guppy`).style.left=`${fish.x}px`;
        document.querySelector(`#fish${i}.guppy`).style.top=`${fish.y}px`;
        
        if(fish.x>screenWidth-35 || fish.x<25){
            fish.xSpeed=fish.xSpeed*-1;
        }
    });

}, 100);

</script>

<style>
    .aquarium {
        border: 2px solid black;
        border-color: black;
        width: 600px;
        height: 400px;
        background-color: teal;
    }

    .controls {
        padding: 5px;
        height: 30px;
    }

    .guppy {
        padding: 10px;
        position: absolute;
        background: red;
        width: 5px;
        height: 5px;
    }
</style>
