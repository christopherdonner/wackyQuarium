<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <div class="game">
    <div class="aquarium">
        <div class="controls">
            <button class=fishButton>Fish!</button>
        </div>
    </div>
</div>
</body>
</html>

<script>
    let globalFishTotal=0,
    screenWidth=600;


function Fish (id, x, y ){
    this.x=Math.floor(Math.random()*500)
    this.y=Math.floor(Math.random()*350);
    this.class='guppy';
    this.id=globalFishTotal;
    this.xSpeed=1;
    this.ySpeed=0;
    this.fishMove=()=>{
 
    }
    console.log(this)

}

function drawScreen(){
    fishArray.forEach((fish)=>{
console.log(fish);
    })
}

let newFishButton = document.querySelector('.fishButton');
let fishArray = [];

newFishButton.addEventListener('click', ()=>{
    console.log('new fish!')
    let newFish = new Fish (globalFishTotal)
    fishArray.push(newFish);
    console.log(fishArray);
    console.log(globalFishTotal);
    console.log(fishArray[globalFishTotal]);
    $('.aquarium').append(`<div class='guppy' id='fish${newFish.id}''><div>`);
    document.querySelector(`#fish${newFish.id}.guppy`).style.backgroundImage='url("https://lh3.googleusercontent.com/pw/AM-JKLXWbo1nf85o1VkGNimWYedihXRaC-wyKLwFz2DcitCRa8TnmzGVYd-6j_CeaLvWg6mMxByl-VokOYS8fPKh_eDAY-qN8vMFDYh7VY4zGiUQfiCzMJ0PT_dNwGGpA27DPeH5N7weMnk_3kQuRHjV_Qzgyg=w659-h675-no?authuser=0")'
        
    globalFishTotal++;

})

let mainTimer=setInterval(()=>{
    fishArray.forEach((fish, i)=>{
        console.log(fish);
        fish.x+=fish.xSpeed;
        fish.y+=fish.ySpeed;
        fish.ySpeed+=Math.floor(Math.random()*5);
        if (fish.ySpeed >= 10) {
            fish.ySpeed=fish.ySpeed*-1;
        }
        document.querySelector(`#fish${i}.guppy`).style.left=`${fish.x}px`;
        document.querySelector(`#fish${i}.guppy`).style.top=`${fish.y}px`;
        
        if(fish.x>=screenWidth-35 || fish.x<=25){
            fish.xSpeed=fish.xSpeed*-1;
        }
        if(fish.y<=25){
            fish.ySpeed=(fish.ySpeed*-1);
        }
    });

}, 100);

</script>

<style>
    .aquarium {
        border: 2px solid black;
        border-color: black;
        width: 600px;
        height: 400px;
        /* background-color: teal; */
    }

    .controls {
        padding: 5px;
        height: 30px;
    }

    .guppy {
        padding: 30px;
        position: absolute;
        /* background: red; */
        background-position: center;
        background-size: cover;
        width: 10px;
        height: 10px;
        border: 1px, solid, black
    }
</style>
